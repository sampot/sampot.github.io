
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="我是山姆鍋">
    <title>使用 PyInstaller 打包 PySide 應用程式 - 我是山姆鍋</title>
    <meta name="author" content="Sampot (山姆鍋)">
    
    
        <link rel="icon" href="https://samkuo.me/images/favicon.png">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sampot (山姆鍋)","sameAs":["https://github.com/sampot","https://twitter.com/sampotkuo","https://facebook.com/sampotkuo","https://tw.linkedin.com/in/sampot","https://developers.tw/@山姆鍋","/sitemap/"],"image":"logo.png"},"articleBody":"使用 PySide 開發桌面應用，雖然開發方便，但總不能直接將程式碼給使用者，要他們裝這個套件，裝那個程式庫的。 本文山姆鍋介紹如何使用 PyInstaller 這個工具來打包 PySide 開發的桌面應用程式。\n\n在 使用 PySide 實現 Python 系統托盤圖示 這篇文章，山姆鍋分享如何實現跨平台系統托盤圖示的程式案例。本文延續該文章，說明如何使用 PyInstaller 來打包 Python 桌面應用。 對於打包 Python 應用，山姆鍋目前的首選是 PyInstaller， 主要是因為可以跨平台支援，但目前它還不完整支援 Python 3， 這也是山姆鍋還停留在使用 Python 2 的主因。\n本文所使用的原始碼在 GitHub 上可以找到，基本目錄結構如下：\n12345678910111213141516.├── LICENSE├── avashell│&nbsp;&nbsp; ├── __init__.py│&nbsp;&nbsp; ├── launcher.py│&nbsp;&nbsp; ├── shell_base.py│&nbsp;&nbsp; ├── shell_pyside.py│&nbsp;&nbsp; ├── utils.py├── avashell.spec├── readme.rst├── requirements.txt├── res│&nbsp;&nbsp; ├── icon.icns│&nbsp;&nbsp; ├── icon.ico│&nbsp;&nbsp; └── icon.png└── setup.py\nPyInstaller 規格檔\n除了簡單的例子外，PyInstaller 需要一個規格描述檔 (副檔名通常為 .spec) 才知道如何打包應用程式以及相依的程式庫。 根據 PyInstaller 產生出來的規格檔，山姆鍋修改成適合 avashell 這個範例程式的用途。 底下是範例程式打包規格檔內容：\n\navashell.specview raw123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# -*- mode: python -*-# -*- coding: utf-8 -*-from __future__ import print_functionimport sysapp_name = 'avashell'\t#1exe_name = 'avashell'\t#2res_path = os.path.join('.', 'res')  #3if sys.platform == 'win32':    exe_name = exe_name + '.exe'\t# 4    run_upx = Falseelif sys.platform.startswith('linux'):    run_strip = True    run_upx = Falseelif sys.platform.startswith('darwin'):    run_upx = Falseelse:    print(\"Unsupported operating system\")    sys.exit(-1)a = Analysis(['avashell/launcher.py'],\t#5             pathex=[],             hiddenimports=[],             hookspath=None,             runtime_hooks=None)pyz = PYZ(a.pure)exe = EXE(pyz,          a.scripts,          exclude_binaries=True,          name=exe_name,          debug=False,          strip=None,          upx=True,          icon= os.path.join(res_path, 'icon.ico'),\t#6          console=False)coll = COLLECT(exe,               a.binaries,               a.zipfiles,               Tree(res_path, 'res', excludes=['*.pyc']),\t#7               a.datas,               strip=None,               upx=run_upx,               name=app_name)if sys.platform.startswith('darwin'):\t#8    app = BUNDLE(coll,                name='Avashell.app',                appname=exe_name,                icon=os.path.join(res_path, 'icon.icns'))  # 9\n這個規格檔，將執行範例程式所需的程式碼以及相依程式庫打包成單一目錄 [1], 細節請參考 PyInstaller 文件 , 底下僅針對標記的地方重點說明：\n\n應用路徑名稱，如：`/avashell/…` 中的 avashell。\n執行檔的名稱，如：`/…/avashell.exe` 中的 avashell.exe。\n圖形等資源檔案路徑，需要另外加入打包後的目錄，參考第 7 點。\n如果是 Windows 平台，則執行檔名稱改為原先名稱加上 .exe，在這個範例就是 avashell.exe。\navashell/launcher.py 是整個程式的進入點，PyInstaller 會分析這個模組以及它連結到的其他模組決定哪些程式庫需要涵括進來。\n就我所知，這個只有在 Windows 平台用到，設定執行檔的圖示。如此，執行檔在檔案總管便可顯示客製化後的圖示。\n這個是用來將整個子目錄涵括進打包後的目錄中，在這個例子，我們需要將圖示檔案涵括進來。\n如果是 OS X 平台，另外建立一個 OS X 的 app bundle, 可從 Finder 直接執行。\nApp bundle 使用的圖示檔，格式是 .icns 。\n\n開始打包應用程式\n雖然有跨平台支援，但是 PyInstaller 必須要在應用程式預計執行的平台上執行，也就是不能做到類似交叉編譯 (cross-compile) 的機制。 底下小節，分別針對 Windows, OS X 以及 Ubuntu 環境，示範如何進行打包的準備以及建置工作。所有的指令，都假設在專案的根目錄執行。\nWindows 環境\n執行環境組態\n\n作業系統：Windows 7 Professional Edition 64-bit\nPython 版本: Anaconda Python 2.7.10 64-bit\nPySide 版本：1.2.2\nPyInstaller 版本: 2.1\n\n安裝相依套件\n\n\n\n安裝 PyWin32\nWindows 比其它平台麻煩的一點，PyInstaller 需要 PyWin32 這個程式庫才能運作。 到 這裏 下載安裝程式後，執行安裝。\n\n\n\n安裝其他套件 執行 pip -r requirements.txt 安裝所需的 PySide 以及 PyInstaller 套件。\n\n\n產生發行包裹\n執行下列指令來執行打包的動作：\n1pyinstaller.exe avashell.spec --clean -y\n其中， --clean 告訴 PyInstaller 清除舊的資料，-y 則是不用再次確認刪除。打包好的資料放在 dist/avashell 這個目錄中。 在這個目錄應該要有個 avashell.exe 執行檔。\n執行時期截圖\n下圖是範例程式在 Windows 下實際執行的截圖：\n\nOS X 環境\n執行環境組態\n\n作業系統：OS X Yosemite 10.10.5\nPython 版本: 2.7.10 64-bit\nPySide 版本：1.2.2\nPyInstaller 版本: 2.1\n\n這裏我們必須使用 Homebrew 來安裝另一個 Python 環境，而不使用系統內建的 Python。使用 Anaconda 的 Python 發行包應該也行， 但如果未來想使用 OS X 的 notification center 功能時，Anaconda 的版本無法正常運作。\n安裝相依套件\n執行 pip -r requirements.txt 安裝所需的 PySide 以及 PyInstaller 套件。\n產生發行包裹\n執行下列指令來執行打包的動作：\n1pyinstaller avashell.spec --clean -y\n除了 dist/avashell 這個目錄外，另外應該有一個 dist/Avashell.app 目錄，這個目錄是一個 App bundle， 可以執行下列指令或者由 Finder 圖形介面啟動：\n1open dist/Avashell.app\n執行時期截圖\n下圖是範例程式在 OS X 實際執行時的截圖：\n\n可以看到山姆鍋的名字 :-)\nUbuntu 環境\n執行環境組態：\n\n作業系統：Ubuntu 14.04 Amd64\nPython 版本：系統內建，2.7.6\nPySide 版本: 1.2.2\nPyInstaller: 使用 GitHub 上的開發版本。\n\n使用 Anaconda 的 Python 發行包會發生托盤圖示無法顯示的問題，目前不清楚原因，也許是山姆鍋測試環境的問題。\n安裝相依性套件\n使用 pip 安裝的 PyInstaller 所產生的發行包裹會發生 找不到 QtGui 模組 的錯誤，需要使用下列指令直接下載開發版本：\n1git clone https://github.com/pyinstaller/pyinstaller.git pyinst\n另外再使用下列指令安裝 PySide:\n1sudo pip install pyside==1.2.2\n因為直接安裝在系統內建的 Python 環境，需要 root 權限。試過在 virtualenv 環境下進行，但遇到 PySide 無法安裝的問題。\n產生發行包裹\n1python pyinst/pyinstaller.py avashell.spec --clean -y\n執行時期截圖\n下圖是範例程式在 Ubuntu 14.04 桌面環境實際執行時的截圖：\n\n結語\n雖然有 PySide 這樣的跨平台圖形介面工具，但要寫真正能夠跨平台的程式還是有許多需要考慮的地方。 即使像是本文所使用這樣一個簡單的桌面程式，如您所見，還是會遇到不同平台間相容性的問題。\n參考資料\nPyInstaller: https://github.com/pyinstaller/pyinstaller\nPyInstaller 文件: http://pythonhosted.org/PyInstaller/\n\n\n\nPyInstaller 也支援打包成單一執行檔的模式。 ↩︎\n\n\n\n","dateCreated":"2015-09-10T09:48:00+08:00","dateModified":"2018-08-29T00:20:26+08:00","datePublished":"2015-09-10T09:48:00+08:00","description":"使用 PySide 開發桌面應用，雖然開發方便，但總不能直接將程式碼給使用者，要他們裝這個套件，裝那個程式庫的。 本文山姆鍋介紹如何使用 PyInstaller 這個工具來打包 PySide 開發的桌面應用程式。","headline":"使用 PyInstaller 打包 PySide 應用程式","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"},"publisher":{"@type":"Organization","name":"Sampot (山姆鍋)","sameAs":["https://github.com/sampot","https://twitter.com/sampotkuo","https://facebook.com/sampotkuo","https://tw.linkedin.com/in/sampot","https://developers.tw/@山姆鍋","/sitemap/"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/","keywords":"Python, PySide, PyInstaller"}</script>
    <meta name="description" content="使用 PySide 開發桌面應用，雖然開發方便，但總不能直接將程式碼給使用者，要他們裝這個套件，裝那個程式庫的。 本文山姆鍋介紹如何使用 PyInstaller 這個工具來打包 PySide 開發的桌面應用程式。">
<meta property="og:type" content="blog">
<meta property="og:title" content="使用 PyInstaller 打包 PySide 應用程式">
<meta property="og:url" content="https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/">
<meta property="og:site_name" content="我是山姆鍋">
<meta property="og:description" content="使用 PySide 開發桌面應用，雖然開發方便，但總不能直接將程式碼給使用者，要他們裝這個套件，裝那個程式庫的。 本文山姆鍋介紹如何使用 PyInstaller 這個工具來打包 PySide 開發的桌面應用程式。">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://samkuo.me/media/2015/09/avashell-win7.png">
<meta property="og:image" content="https://samkuo.me/media/2015/09/avashell-mac-osx.png">
<meta property="og:image" content="https://samkuo.me/media/2015/09/avashell-ubuntu.png">
<meta property="article:published_time" content="2015-09-10T01:48:00.000Z">
<meta property="article:modified_time" content="2018-08-28T16:20:26.192Z">
<meta property="article:author" content="Sampot (山姆鍋)">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="PySide">
<meta property="article:tag" content="PyInstaller">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://samkuo.me/media/2015/09/avashell-win7.png">
<meta name="twitter:creator" content="@sampotkuo">
<meta property="fb:app_id" content="109832189371155">
    
    
        
    
    <meta property="og:image" content="https://samkuo.me/images/featured_image.jpg"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-lfspghztdttlloh4nly9hmp3cqmehlzaagf5ften7wo63faxiltzljjm4fb0.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41152700-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-41152700-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
        <img class="header-avatar-picture" src="/images/logo32.png" alt="作者的圖片" />
            我是山姆鍋
        </a>
    </div>
    
        
            <a
                class="header-right-icon open-algolia-search"
                href="#search"
                aria-label="打開鏈接: /#search"
            >
        
        
            <i class="fa fa-search fa-lg"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="閱讀有關作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="/images/logo.png" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Sampot (山姆鍋)</h4>
                
                    <h5 class="sidebar-profile-bio"><p>個人部落格， 記錄與分享一些軟體開發與運維相關資訊， 偶爾也會碎念一下</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="首頁"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="分類"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="標籤"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="所有文章"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜尋"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/about/"
                            
                            rel="noopener"
                            title="關於"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/sampot"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/sampotkuo"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/sampotkuo"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://tw.linkedin.com/in/sampot"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://developers.tw/@山姆鍋"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="聯絡"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">聯絡</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/sitemap/"
                            
                            rel="noopener"
                            title="網站導覽"
                        >
                        <i class="sidebar-button-icon fa fa-sitemap" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">網站導覽</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="Atom"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Atom</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            使用 PyInstaller 打包 PySide 應用程式
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2015-09-10T09:48:00+08:00">
	
		    9月 10, 2015
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="/category/software-development/">Software Development</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div class="alert info no-icon">
                <a href="https://www.facebook.com/sampotkuo" target="_blank" rel="noopener">「我是山姆鍋」有臉書專頁</a>
            </div>

            <p>使用 PySide 開發桌面應用，雖然開發方便，但總不能直接將程式碼給使用者，要他們裝這個套件，裝那個程式庫的。 本文山姆鍋介紹如何使用 PyInstaller 這個工具來打包 PySide 開發的桌面應用程式。</p>
<a id="more"></a>
<p>在 <a href="/post/2015/09/python-system-tray-icon-with-pyside/">使用 PySide 實現 Python 系統托盤圖示</a> 這篇文章，山姆鍋分享如何實現跨平台系統托盤圖示的程式案例。本文延續該文章，說明如何使用 <a href="">PyInstaller</a> 來打包 Python 桌面應用。 對於打包 Python 應用，山姆鍋目前的首選是 <a href="">PyInstaller</a>， 主要是因為可以跨平台支援，但目前它還不完整支援 Python 3， 這也是山姆鍋還停留在使用 Python 2 的主因。</p>
<p>本文所使用的原始碼在 <a href="https://github.com/sampot/avashell-pyside" target="_blank" rel="noopener">GitHub</a> 上可以找到，基本目錄結構如下：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── LICENSE</span><br><span class="line">├── avashell</span><br><span class="line">│&nbsp;&nbsp; ├── __init__.py</span><br><span class="line">│&nbsp;&nbsp; ├── launcher.py</span><br><span class="line">│&nbsp;&nbsp; ├── shell_base.py</span><br><span class="line">│&nbsp;&nbsp; ├── shell_pyside.py</span><br><span class="line">│&nbsp;&nbsp; ├── utils.py</span><br><span class="line">├── avashell.spec</span><br><span class="line">├── readme.rst</span><br><span class="line">├── requirements.txt</span><br><span class="line">├── res</span><br><span class="line">│&nbsp;&nbsp; ├── icon.icns</span><br><span class="line">│&nbsp;&nbsp; ├── icon.ico</span><br><span class="line">│&nbsp;&nbsp; └── icon.png</span><br><span class="line">└── setup.py</span><br></pre></td></tr></tbody></table></figure>
<h2 id="PyInstaller-規格檔">PyInstaller 規格檔</h2>
<p>除了簡單的例子外，PyInstaller 需要一個規格描述檔 (副檔名通常為 .spec) 才知道如何打包應用程式以及相依的程式庫。 根據 PyInstaller 產生出來的規格檔，山姆鍋修改成適合 <code>avashell</code> 這個範例程式的用途。 底下是範例程式打包規格檔內容：</p>
<!-- more -->
<figure class="highlight plain"><figcaption><span>avashell.spec</span><a href="/downloads/code/avashell.spec.txt">view raw</a></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"># -*- mode: python -*-</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">from __future__ import print_function</span><br><span class="line"></span><br><span class="line">import sys</span><br><span class="line"></span><br><span class="line">app_name = 'avashell'	#1</span><br><span class="line">exe_name = 'avashell'	#2</span><br><span class="line"></span><br><span class="line">res_path = os.path.join('.', 'res')  #3</span><br><span class="line"></span><br><span class="line">if sys.platform == 'win32':</span><br><span class="line">    exe_name = exe_name + '.exe'	# 4</span><br><span class="line">    run_upx = False</span><br><span class="line"></span><br><span class="line">elif sys.platform.startswith('linux'):</span><br><span class="line">    run_strip = True</span><br><span class="line">    run_upx = False</span><br><span class="line"></span><br><span class="line">elif sys.platform.startswith('darwin'):</span><br><span class="line">    run_upx = False</span><br><span class="line"></span><br><span class="line">else:</span><br><span class="line">    print("Unsupported operating system")</span><br><span class="line">    sys.exit(-1)</span><br><span class="line"></span><br><span class="line">a = Analysis(['avashell/launcher.py'],	#5</span><br><span class="line">             pathex=[],</span><br><span class="line">             hiddenimports=[],</span><br><span class="line">             hookspath=None,</span><br><span class="line">             runtime_hooks=None)</span><br><span class="line"></span><br><span class="line">pyz = PYZ(a.pure)</span><br><span class="line"></span><br><span class="line">exe = EXE(pyz,</span><br><span class="line">          a.scripts,</span><br><span class="line">          exclude_binaries=True,</span><br><span class="line">          name=exe_name,</span><br><span class="line">          debug=False,</span><br><span class="line">          strip=None,</span><br><span class="line">          upx=True,</span><br><span class="line">          icon= os.path.join(res_path, 'icon.ico'),	#6</span><br><span class="line">          console=False)</span><br><span class="line"></span><br><span class="line">coll = COLLECT(exe,</span><br><span class="line">               a.binaries,</span><br><span class="line">               a.zipfiles,</span><br><span class="line">               Tree(res_path, 'res', excludes=['*.pyc']),	#7</span><br><span class="line"></span><br><span class="line">               a.datas,</span><br><span class="line">               strip=None,</span><br><span class="line">               upx=run_upx,</span><br><span class="line">               name=app_name)</span><br><span class="line"></span><br><span class="line">if sys.platform.startswith('darwin'):	#8</span><br><span class="line">    app = BUNDLE(coll,</span><br><span class="line">                name='Avashell.app',</span><br><span class="line">                appname=exe_name,</span><br><span class="line">                icon=os.path.join(res_path, 'icon.icns'))  # 9</span><br></pre></td></tr></tbody></table></figure>
<p>這個規格檔，將執行範例程式所需的程式碼以及相依程式庫打包成單一目錄 <sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>, 細節請參考 <a href="">PyInstaller 文件</a> , 底下僅針對標記的地方重點說明：</p>
<ol>
<li>應用路徑名稱，如：`/avashell/…` 中的 avashell。</li>
<li>執行檔的名稱，如：`/…/avashell.exe` 中的 avashell.exe。</li>
<li>圖形等資源檔案路徑，需要另外加入打包後的目錄，參考第 7 點。</li>
<li>如果是 Windows 平台，則執行檔名稱改為原先名稱加上 <code>.exe</code>，在這個範例就是 <code>avashell.exe</code>。</li>
<li><code>avashell/launcher.py</code> 是整個程式的進入點，PyInstaller 會分析這個模組以及它連結到的其他模組決定哪些程式庫需要涵括進來。</li>
<li>就我所知，這個只有在 Windows 平台用到，設定執行檔的圖示。如此，執行檔在檔案總管便可顯示客製化後的圖示。</li>
<li>這個是用來將整個子目錄涵括進打包後的目錄中，在這個例子，我們需要將圖示檔案涵括進來。</li>
<li>如果是 OS X 平台，另外建立一個 OS X 的 app bundle, 可從 Finder 直接執行。</li>
<li>App bundle 使用的圖示檔，格式是 <code>.icns</code> 。</li>
</ol>
<h2 id="開始打包應用程式">開始打包應用程式</h2>
<p>雖然有跨平台支援，但是 PyInstaller 必須要在應用程式預計執行的平台上執行，也就是不能做到類似交叉編譯 (cross-compile) 的機制。 底下小節，分別針對 Windows, OS X 以及 Ubuntu 環境，示範如何進行打包的準備以及建置工作。所有的指令，都假設在專案的根目錄執行。</p>
<h3 id="Windows-環境">Windows 環境</h3>
<h4 id="執行環境組態">執行環境組態</h4>
<ul>
<li>作業系統：Windows 7 Professional Edition 64-bit</li>
<li>Python 版本: Anaconda Python 2.7.10 64-bit</li>
<li>PySide 版本：1.2.2</li>
<li>PyInstaller 版本: 2.1</li>
</ul>
<h4 id="安裝相依套件">安裝相依套件</h4>
<ul>
<li>
<dl>
<dt>安裝 PyWin32</dt>
<dd>Windows 比其它平台麻煩的一點，PyInstaller 需要 PyWin32 這個程式庫才能運作。 到 <a href="http://sourceforge.net/projects/pywin32/files/pywin32/" target="_blank" rel="noopener">這裏</a> 下載安裝程式後，執行安裝。</dd>
</dl>
</li>
<li>
<p>安裝其他套件 執行 <code>pip -r requirements.txt</code> 安裝所需的 PySide 以及 PyInstaller 套件。</p>
</li>
</ul>
<h4 id="產生發行包裹">產生發行包裹</h4>
<p>執行下列指令來執行打包的動作：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller.exe avashell.spec --clean -y</span><br></pre></td></tr></tbody></table></figure>
<p>其中， <code>--clean</code> 告訴 PyInstaller 清除舊的資料，<code>-y</code> 則是不用再次確認刪除。打包好的資料放在 <code>dist/avashell</code> 這個目錄中。 在這個目錄應該要有個 <code>avashell.exe</code> 執行檔。</p>
<h4 id="執行時期截圖">執行時期截圖</h4>
<p>下圖是範例程式在 Windows 下實際執行的截圖：</p>
<p><img src="/media/2015/09/avashell-win7.png" alt="Avashell screenshot"></p>
<h3 id="OS-X-環境">OS X 環境</h3>
<h4 id="執行環境組態-v2">執行環境組態</h4>
<ul>
<li>作業系統：OS X Yosemite 10.10.5</li>
<li>Python 版本: 2.7.10 64-bit</li>
<li>PySide 版本：1.2.2</li>
<li>PyInstaller 版本: 2.1</li>
</ul>
<p>這裏我們必須使用 Homebrew 來安裝另一個 Python 環境，而不使用系統內建的 Python。使用 Anaconda 的 Python 發行包應該也行， 但如果未來想使用 OS X 的 notification center 功能時，Anaconda 的版本無法正常運作。</p>
<h4 id="安裝相依套件-v2">安裝相依套件</h4>
<p>執行 <code>pip -r requirements.txt</code> 安裝所需的 PySide 以及 PyInstaller 套件。</p>
<h4 id="產生發行包裹-v2">產生發行包裹</h4>
<p>執行下列指令來執行打包的動作：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller avashell.spec --clean -y</span><br></pre></td></tr></tbody></table></figure>
<p>除了 <code>dist/avashell</code> 這個目錄外，另外應該有一個 <code>dist/Avashell.app</code> 目錄，這個目錄是一個 App bundle， 可以執行下列指令或者由 Finder 圖形介面啟動：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open dist/Avashell.app</span><br></pre></td></tr></tbody></table></figure>
<h4 id="執行時期截圖-v2">執行時期截圖</h4>
<p>下圖是範例程式在 OS X 實際執行時的截圖：</p>
<p><img src="/media/2015/09/avashell-mac-osx.png" alt="Avashell screenshot"><br>
可以看到山姆鍋的名字 :-)</p>
<h3 id="Ubuntu-環境">Ubuntu 環境</h3>
<h4 id="執行環境組態：">執行環境組態：</h4>
<ul>
<li>作業系統：Ubuntu 14.04 Amd64</li>
<li>Python 版本：系統內建，2.7.6</li>
<li>PySide 版本: 1.2.2</li>
<li>PyInstaller: 使用 GitHub 上的開發版本。</li>
</ul>
<p>使用 Anaconda 的 Python 發行包會發生托盤圖示無法顯示的問題，目前不清楚原因，也許是山姆鍋測試環境的問題。</p>
<h4 id="安裝相依性套件">安裝相依性套件</h4>
<p>使用 <code>pip</code> 安裝的 PyInstaller 所產生的發行包裹會發生 <code>找不到 QtGui 模組</code> 的錯誤，需要使用下列指令直接下載開發版本：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/pyinstaller/pyinstaller.git pyinst</span><br></pre></td></tr></tbody></table></figure>
<p>另外再使用下列指令安裝 PySide:</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install pyside==1.2.2</span><br></pre></td></tr></tbody></table></figure>
<p>因為直接安裝在系統內建的 Python 環境，需要 root 權限。試過在 virtualenv 環境下進行，但遇到 PySide 無法安裝的問題。</p>
<h4 id="產生發行包裹-v3">產生發行包裹</h4>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python pyinst/pyinstaller.py avashell.spec --clean -y</span><br></pre></td></tr></tbody></table></figure>
<h4 id="執行時期截圖-v3">執行時期截圖</h4>
<p>下圖是範例程式在 Ubuntu 14.04 桌面環境實際執行時的截圖：</p>
<p><img src="/media/2015/09/avashell-ubuntu.png" alt="Avashell screenshot"></p>
<h2 id="結語">結語</h2>
<p>雖然有 PySide 這樣的跨平台圖形介面工具，但要寫真正能夠跨平台的程式還是有許多需要考慮的地方。 即使像是本文所使用這樣一個簡單的桌面程式，如您所見，還是會遇到不同平台間相容性的問題。</p>
<h2 id="參考資料">參考資料</h2>
<p><code>PyInstaller</code>: <a href="https://github.com/pyinstaller/pyinstaller" target="_blank" rel="noopener">https://github.com/pyinstaller/pyinstaller</a></p>
<p><code>PyInstaller 文件</code>: <a href="http://pythonhosted.org/PyInstaller/" target="_blank" rel="noopener">http://pythonhosted.org/PyInstaller/</a></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>PyInstaller 也支援打包成單一執行檔的模式。 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

            <div class="alert info no-icon">
                有 DevOps 技術問題？歡迎到 <a href="https://developers.tw/@山姆鍋" target="_blank" rel="noopener">#呆丸開發者</a> 跟山姆鍋討論
            </div>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tag/pyinstaller/" rel="tag">PyInstaller</a> <a class="tag tag--primary tag--small t-link" href="/tag/pyside/" rel="tag">PySide</a> <a class="tag tag--primary tag--small t-link" href="/tag/python/" rel="tag">Python</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2015/09/python-with-erasure-code/"
                    data-tooltip="很酷的糾刪碼 (erasure code) 技術"
                    aria-label="上一篇: 很酷的糾刪碼 (erasure code) 技術"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2015/09/pelican-blog-microdata-seo/"
                    data-tooltip="給部落格來點 SEO"
                    aria-label="下一篇: 給部落格來點 SEO"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Sampot (山姆鍋). All Rights Reserved.
    </span>
    <br/>
        <a rel="license"
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW"><img
                alt="創用 CC 授權條款" style="border-width:0"
                src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
        除另有標示，本著作係採用<a rel="license"
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW">創用 CC
            姓名標示-非商業性-相同方式分享 4.0 國際 授權條款</a>授權。
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2015/09/python-with-erasure-code/"
                    data-tooltip="很酷的糾刪碼 (erasure code) 技術"
                    aria-label="上一篇: 很酷的糾刪碼 (erasure code) 技術"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2015/09/pelican-blog-microdata-seo/"
                    data-tooltip="給部落格來點 SEO"
                    aria-label="下一篇: 給部落格來點 SEO"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                        aria-label="分享到 Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                        aria-label="分享到 Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/images/logo.png" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Sampot (山姆鍋)</h4>
        
            <div id="about-card-bio"><p>個人部落格， 記錄與分享一些軟體開發與運維相關資訊， 偶爾也會碎念一下</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>IT 自由工作者</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                台灣/台北
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">沒有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/03/set-up-mysql-master-master-replication/"
                            aria-label=": 設定 MySQL Master-Master 複製"
                        >
                            <h3 class="media-heading">設定 MySQL Master-Master 複製</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年3月3日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>本文簡單說明如何設定兩台 MySQL server，讓它們彼此互相備份資料 (Master-master 模式)。雖然這樣的設定通常是支援高可用性 (high availability) 平台的一部分，但本文不包含如何完成其他 HA 的工作。設定兩台 MySQL 伺服器互相備份，主要目的就是要確認資料的安全性；同時也提高可用性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/use-pacemaker-two-node-ha-cluster/"
                            aria-label=": 使用 Pacemaker 建構雙節點叢集系統"
                        >
                            <h3 class="media-heading">使用 Pacemaker 建構雙節點叢集系統</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月6日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>想要達到系統高可用性 (high availability) 的需求，自然免不了需要採用現成的解決方案。本文說明如何利用 Pacemaker/heartbeat 來建構一個雙節點的從其系統。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/build-cluster-filesystem-with-glusterfs-ubuntu/"
                            aria-label=": 使用 GlusterFS 在 Ubuntu 上建構雙節點叢集檔案系統"
                        >
                            <h3 class="media-heading">使用 GlusterFS 在 Ubuntu 上建構雙節點叢集檔案系統</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>在網站的叢集系統中，除了資料庫需要讓各個伺服器存取外，常常也會需要讓檔案 (圖檔，CSS 等等) 可以被叢集中的伺服器存取。 傳統上，常常使用 NFS 伺服器來達到此目的，但 NFS 本身往往成為單一失敗點 (single point of failure)。 本文介紹 GlusterFS 來建構一個簡單的雙節點叢集檔案系統，具備高可用性、高擴充性等特性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/scale-wordpress-with-hyperdb/"
                            aria-label=": 使用 HyperDB 加強 WordPress 網站的資料庫擴充性"
                        >
                            <h3 class="media-heading">使用 HyperDB 加強 WordPress 網站的資料庫擴充性</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>對於流量高的 Wordpress 網站來說，資料庫往往是第一個出現的瓶頸。針對資料庫擴充性的問題，本文介紹 HyperDB 這個解決方案。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/create-lnmp-environment-with-nginx/"
                            aria-label=": 在 Linode 上使用 Nginx 架設 LNMP 環境"
                        >
                            <h3 class="media-heading">在 Linode 上使用 Nginx 架設 LNMP 環境</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月30日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Apache HTTPd 是很好的網站伺服器，但是對於 CPU 跟記憶體的要求較高，對於架設在 VPS 上面網站來說， 需要一個更輕量級的解決方案。越來越多人選擇使用 Nginx 架設網站，主要考量便是它的快速、穩定以及輕量的特性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/05/support-sending-mail-php-linux-vps-exim/"
                            aria-label=": Linux VPS PHP 網站可以發送信件"
                        >
                            <h3 class="media-heading">Linux VPS PHP 網站可以發送信件</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年5月8日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>PHP 架站軟體通常需要用到寄信功能，例如：通知站長有新的迴響需要審核。使用虛擬主機來架站的讀者一定會納悶：<br>
不管是 WordPress，Drupal 或者其他 PHP<br>
架站軟體不是都不用另外設定就可以寄信？為什麼需要特地提到這件事情。<br>
話說山姆鍋的主機採用的是 Linode VPS，很多事情都需要自己來，唉！<br>
如果您的網站主機跟山姆鍋一樣是 VPS 或者專屬伺服器，那這篇文章也許對您有幫助。<br>
由於不是要做為公司的郵件伺服器，山姆鍋希望除了讓 PHP 架站軟體送信外，不再作其它用途。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/04/start-up/"
                            aria-label=": 影化身科技有限公司成立"
                        >
                            <h3 class="media-heading">影化身科技有限公司成立</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年4月24日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>2013 年 4 月 24 日，影化身科技有限公司登記成立，致力於提供雲端服務平台。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/shi-yong-octopresszuo-wei-bo-ke-ping-tai/"
                            aria-label=": 使用 Octopress 作為部落格平台"
                        >
                            <h3 class="media-heading">使用 Octopress 作為部落格平台</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>由於沒有需要太多動態功能，所以，嘗試使用靜態部落格平台 Octopress 來寫文章。「艾米部落」<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> 一路從 Joomla, Drupal, WordPress 到現在的 Octopress，也算是換了不少平台。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/use-static-site-generator-for-company-site/"
                            aria-label=": 使用靜態網頁產生器來管理公司網站"
                        >
                            <h3 class="media-heading">使用靜態網頁產生器來管理公司網站</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>對於不需要動態功能的網站而言，使用像是 Drupal、WordPress 之類的架站軟體，感覺有點大材小用。對於可以接受不使用「所見即所得」編輯器的人，靜態網站產生器應該是個可以接受的方案。 雖說是靜態網站，缺少很多功能，但像是公司或者行銷網站往往也不需要這些。況且， 靜態網站有諸多動態網站所沒有的功能，如：</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/exchange-name-card-with-eavatar-me/"
                            aria-label=": 如何利用「我．影化身」服務交換名片"
                        >
                            <h3 class="media-heading">如何利用「我．影化身」服務交換名片</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月29日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>今天從 MR JAMIE 上讀到一篇文章：「從今天開始，請 email 你的名片給我吧！」這讓我想到，與其使用 Email，使用「我．影化身」來代替，不是也很適當？</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="沒有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 126 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-597bjprixrfzrennpanwcwfnulsqaw08wvkzphw7gk8dqunvgzd9nn3nvsu9.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://samkuo.me/post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/';
              
            this.page.identifier = 'post/2015/09/use-pyinstaller-to-package-pyside-desktop-app/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'sampotkuo';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    



    
<script src="/assets/js/moment-with-locales.js"></script>

    
<script src="/assets/js/algoliasearch.js"></script>

    <script>
      var algoliaClient = algoliasearch('OIWK4CBFS4', 'f676051199368fe5f161c9012b7edaf6');
      var algoliaIndex = algoliaClient.initIndex('MyBlogIndex');
    </script>


    </body>
</html>
