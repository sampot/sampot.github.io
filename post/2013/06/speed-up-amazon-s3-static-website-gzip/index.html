
<!DOCTYPE html>
<html lang="zh-tw">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="我是山姆鍋">
    <title>加快 Amazon S3 上靜態網站的存取 - 我是山姆鍋</title>
    <meta name="author" content="Sampot (山姆鍋)">
    
        <meta name="keywords" content="gzip,minify,s3cmd">
    
    
        <link rel="icon" href="https://samkuo.me/images/favicon.png">
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Sampot (山姆鍋)","sameAs":["https://github.com/sampot","https://twitter.com/sampotkuo","https://facebook.com/sampotkuo","https://tw.linkedin.com/in/sampot","https://developers.tw/@山姆鍋","/sitemap/"],"image":"logo.png"},"articleBody":"山姆鍋曾經提到，影化身網站是放置在 Amazon S3 上，也利用 CloudFront 來減少存取的延遲。 但是，好還可以更好，山姆鍋在本文會分享如何減少 HTTP 要求數量，壓縮網頁內容來加快存取速度。\n\nAmazon S3 雖然方便，但因為不是設計來支援動態內容，有幾個限制會影響到存取效率的最佳化 (優化)，像是不支援執行時期 GZip encoding。雖然不支援動態壓縮，但是我們可以預先把內容做 GZip 壓縮來達到同樣效果。底下將說明如何透過 s3cmd 這個工具來達到減少 HTTP 請求數量以及資料量的目的。對了！請注意山姆鍋用的工作環境是 Mac OS X。\n準備工具 s3cmd\n本文使用的 s3cmd 版本需要是 1.1 以上。\n安裝 s3cmd\n到官方網站下載 s3cmd 並解壓縮後，執行下列指令來安裝：\n1$ python setup.py install\n設定 s3cmd\n要讓 s3cmd 能夠正確連到 Amazon S3 服務，需要做些設定。在命令列執行下列指令並安照提示輸入您 S3 的認證資訊：\n1$ s3cmd --configure\n驗證 s3cmd 安裝完成\n執行下列指令，確定 s3cmd 已經可以正確連到 Amazon S3:\n123$ s3cmd ls2013-05-22 10:24  s3://aaa.eavatar.com2013-06-05 02:30  s3://blog.eavatar.com\n如果有看到之前建好的 bucket 就表示安裝設定正常。\n預先對 HTML, JS, 以及 CSS 檔案做 GZip 壓縮\n之前提過 Amazon S3 不支援動態做檔案的 GZip 壓縮，但我們可以預先壓好檔案在上傳到 S3。除了預先壓縮外，還要告訴 S3，這些壓縮過的檔案該使用的 HTTP 標頭。\n設定壓縮腳本\n在 Rakefile 中，加入下列腳本：\n1234567891011121314151617181920212223242526272829303132333435desc \"GZip HTML\"task :gzip_html do  puts \"## GZipping HTML\"  system 'find public/ -type f -name \\*.html -exec gzip -9 {} \\;'  # Batch rename .html.gz to .html  Dir['**/*.html.gz'].each do |f|    test(?f, f) and File.rename(f, f.gsub(/\\.html\\.gz/, '.html'))  endenddesc \"GZip CSS\"task :gzip_css do  puts \"## GZipping CSS\"  styles_dir = \"#{public_dir}/assets\"  system 'find public/assets -maxdepth 1 -type f -name \\*.css -exec gzip -9 {} \\;'  # Batch rename .css.gz to .css  Dir['public/assets/*.css.gz'].each do |f|    test(?f, f) and File.rename(f, f.gsub(/\\.css\\.gz/, '.css'))  endenddesc \"GZip JS\"task :gzip_js do  puts \"## GZipping JS\"  styles_dir = \"#{public_dir}/assets\"  system 'find public/assets -maxdepth 1 -type f -name \\*.js -exec gzip -9 {} \\;'  # Batch rename .js.gz to .js  Dir['public/assets/*.js.gz'].each do |f|    test(?f, f) and File.rename(f, f.gsub(/\\.js\\.gz/, '.js'))  endenddesc \"GZip All\"task :gzip =&gt; [:gzip_html, :gzip_css, :gzip_js] doend\n同樣是 Rakefile，修改 generate 任務確保每次產生檔案時同時作壓縮。修改後的 generate 任務看起來應該像：\n12345678910desc \"Generate jekyll site\"task :generate do  raise \"### You haven't set anything up yet. First run `rake install` to set up an Octopress theme.\" unless File.directory?(source_dir)  puts \"## Generating Site with Jekyll\"  system \"compass compile --css-dir #{source_dir}/assets\"  system \"jekyll\"  Rake::Task[:gzip_html].execute  Rake::Task[:gzip_css].execute  Rake::Task[:gzip_js].executeend\n注意，上述腳本山姆鍋只在 Mac OS X 上測試過，不過理論上，Linux 系統應該也可以執行。基本上，這個腳本會把 HTML, CSS 以及 JS 檔案使用 gzip 壓縮，並將’js’從檔名中移除。另外，您要根據您 JS/CSS 輸出的路徑，修改’public/assets’成實際放置 JS/CSS 的路徑。\n修改部署腳本來設定適當 HTTP 標頭\n修改 Rakefile 中，S3 的部署腳本，針對 HTML, JS 以及 CSS 檔案做不同的配置。\n12345678910111213desc \"Deploy staging website via s3cmd\"task :s3_dev do  puts \"## Deploying staging website via s3cmd\"  # sync gzipped html files  # NOTE: Setting charset in header for faster browser rendering  ok_failed system(\"s3cmd sync  --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --mime-type='text/html; charset=utf-8' --add-header 'Content-Encoding: gzip' --exclude '*.*' --include '*.html'\")  # sync non gzipped, non js/css/image files  ok_failed system(\"s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --exclude 'images/' --exclude '*.css' --exclude '*.js'  --exclude '*.html'\")  # sync gzipped css and js  ok_failed system(\"s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --add-header 'Content-Encoding: gzip' --add-header 'Cache-Control: public, max-age=31600000' --exclude '*.*' --include '*.js' --include '*.css'\")  # sync all images  ok_failed system(\"s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy  --add-header 'Cache-Control: public, max-age=31600000' public/images/* s3://#{s3_bucket_dev}/images/\")end\n其中，請把 #{s3_bucket_dev} 換成您使用的 S3 bucket 名稱。\n底下是幾個重要的 s3cmd 參數說明：\n\n–add-header 參數告訴 s3cmd，當那些檔案被下載時，要設定相對應的 HTTP 標題。\n–mime-type 指定該檔案要回傳給瀏覽器的 Mime 型別。Amazon S3 對於 HTML 檔案預設並不會有 utf-8 這個編碼設定，但沒有這個設定，瀏覽器要等比較久的時間才能決定網頁內容的正確編碼，甚至使用了錯誤的編碼。\n\n除了設定’Content-Encoding: gzip’這個標頭讓瀏覽器知道回傳的內容經過 gzip 壓縮外，同時也設定’Cache-Control’標頭來讓瀏覽器或者 CloudFront 知道這些內容該緩存的時間。針對 JS、圖檔、或者 CSS 這類靜態檔案，我們希望緩存的時間越長越好。但是 HTML 或者ＸＭＬ檔案，因為，會需要比較快更新，山姆鍋在這裡設為緩存 1 小時 ()，您可以根據需要自行調整。\n小結\n作為靜態網站服務器，Amazon S3 不支援動態 GZip，的確是不方便。不過它提供的額外特性以及跟 CloudFront 整合，讓它仍舊是相當好的選擇。\n參考資料\n\ns3cmd\nMaking Octopress Fast\n\n","dateCreated":"2013-06-15T10:18:00+08:00","dateModified":"2018-08-19T21:45:49+08:00","datePublished":"2013-06-15T10:18:00+08:00","description":"山姆鍋曾經提到，影化身網站是放置在 Amazon S3 上，也利用 CloudFront 來減少存取的延遲。 但是，好還可以更好，山姆鍋在本文會分享如何減少 HTTP 要求數量，壓縮網頁內容來加快存取速度。","headline":"加快 Amazon S3 上靜態網站的存取","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"},"publisher":{"@type":"Organization","name":"Sampot (山姆鍋)","sameAs":["https://github.com/sampot","https://twitter.com/sampotkuo","https://facebook.com/sampotkuo","https://tw.linkedin.com/in/sampot","https://developers.tw/@山姆鍋","/sitemap/"],"image":"logo.png","logo":{"@type":"ImageObject","url":"logo.png"}},"url":"https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/","keywords":"Amazon S3, Cloud service, Octopress, Operations, CloudFront"}</script>
    <meta name="description" content="利用 GZip, 最小化 JS&#x2F;CSS 的存取來加快在 Amazon S3 上網頁的存取。">
<meta property="og:type" content="blog">
<meta property="og:title" content="加快 Amazon S3 上靜態網站的存取">
<meta property="og:url" content="https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/">
<meta property="og:site_name" content="我是山姆鍋">
<meta property="og:description" content="利用 GZip, 最小化 JS&#x2F;CSS 的存取來加快在 Amazon S3 上網頁的存取。">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2013-06-15T02:18:00.000Z">
<meta property="article:modified_time" content="2018-08-19T13:45:49.533Z">
<meta property="article:author" content="Sampot (山姆鍋)">
<meta property="article:tag" content="gzip">
<meta property="article:tag" content="minify">
<meta property="article:tag" content="s3cmd">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@sampotkuo">
<meta property="fb:app_id" content="109832189371155">
    
    
        
    
    <meta property="og:image" content="https://samkuo.me/images/featured_image.jpg"/>
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-qlm634aeqqh4pedhidwvikqi59e0o7qckfid1geequyx9cyxw5rqjplgvt1t.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41152700-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-41152700-1');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
        <img class="header-avatar-picture" src="/images/logo32.png" alt="作者的圖片" />
            我是山姆鍋
        </a>
    </div>
    
        
            <a
                class="header-right-icon open-algolia-search"
                href="#search"
                aria-label="打開鏈接: /#search"
            >
        
        
            <i class="fa fa-search fa-lg"></i>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="閱讀有關作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="/images/logo.png" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Sampot (山姆鍋)</h4>
                
                    <h5 class="sidebar-profile-bio"><p>個人部落格， 記錄與分享一些軟體開發與運維相關資訊， 偶爾也會碎念一下</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="首頁"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="分類"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="標籤"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="所有文章"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜尋"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/about/"
                            
                            rel="noopener"
                            title="關於"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/sampot"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/sampotkuo"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/sampotkuo"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://tw.linkedin.com/in/sampot"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://developers.tw/@山姆鍋"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="聯絡"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">聯絡</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/sitemap/"
                            
                            rel="noopener"
                            title="網站導覽"
                        >
                        <i class="sidebar-button-icon fa fa-sitemap" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">網站導覽</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="Atom"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Atom</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            加快 Amazon S3 上靜態網站的存取
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2013-06-15T10:18:00+08:00">
	
		    6月 15, 2013
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="/category/service-operations/">Service Operations</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <div class="alert info no-icon">
                <a href="https://www.facebook.com/sampotkuo" target="_blank" rel="noopener">「我是山姆鍋」有臉書專頁</a>
            </div>

            <p>山姆鍋曾經提到，<a href="/post/2013/05/use-static-site-generator-for-company-site/">影化身網站是放置在 Amazon S3</a> 上，也利用 <a href="/post/2013/06/use-cloudfront-speed-up-eavatar-home/">CloudFront</a> 來減少存取的延遲。 但是，好還可以更好，山姆鍋在本文會分享如何減少 HTTP 要求數量，壓縮網頁內容來加快存取速度。</p>
<a id="more"></a>
<p>Amazon S3 雖然方便，但因為不是設計來支援動態內容，有幾個限制會影響到存取效率的最佳化 (優化)，像是不支援執行時期 GZip encoding。雖然不支援動態壓縮，但是我們可以預先把內容做 GZip 壓縮來達到同樣效果。底下將說明如何透過 s3cmd 這個工具來達到減少 HTTP 請求數量以及資料量的目的。對了！請注意山姆鍋用的工作環境是 Mac OS X。</p>
<h3 id="準備工具-s3cmd">準備工具 s3cmd</h3>
<p>本文使用的 s3cmd 版本需要是 1.1 以上。</p>
<h4 id="安裝-s3cmd">安裝 s3cmd</h4>
<p>到官方網站下載 <a href="http://s3tools.org/download" target="_blank" rel="noopener">s3cmd</a> 並解壓縮後，執行下列指令來安裝：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py install</span><br></pre></td></tr></tbody></table></figure>
<h4 id="設定-s3cmd">設定 s3cmd</h4>
<p>要讓 s3cmd 能夠正確連到 Amazon S3 服務，需要做些設定。在命令列執行下列指令並安照提示輸入您 S3 的認證資訊：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ s3cmd --configure</span><br></pre></td></tr></tbody></table></figure>
<h3 id="驗證-s3cmd-安裝完成">驗證 s3cmd 安裝完成</h3>
<p>執行下列指令，確定 s3cmd 已經可以正確連到 Amazon S3:</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ s3cmd ls</span><br><span class="line">2013-05-22 10:24  s3://aaa.eavatar.com</span><br><span class="line">2013-06-05 02:30  s3://blog.eavatar.com</span><br></pre></td></tr></tbody></table></figure>
<p>如果有看到之前建好的 bucket 就表示安裝設定正常。</p>
<h3 id="預先對-HTML-JS-以及-CSS-檔案做-GZip-壓縮">預先對 HTML, JS, 以及 CSS 檔案做 GZip 壓縮</h3>
<p>之前提過 Amazon S3 不支援動態做檔案的 GZip 壓縮，但我們可以預先壓好檔案在上傳到 S3。除了預先壓縮外，還要告訴 S3，這些壓縮過的檔案該使用的 HTTP 標頭。</p>
<h4 id="設定壓縮腳本">設定壓縮腳本</h4>
<p>在 Rakefile 中，加入下列腳本：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">desc "GZip HTML"</span><br><span class="line">task :gzip_html do</span><br><span class="line">  puts "## GZipping HTML"</span><br><span class="line">  system 'find public/ -type f -name \*.html -exec gzip -9 {} \;'</span><br><span class="line">  # Batch rename .html.gz to .html</span><br><span class="line">  Dir['**/*.html.gz'].each do |f|</span><br><span class="line">    test(?f, f) and File.rename(f, f.gsub(/\.html\.gz/, '.html'))</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">desc "GZip CSS"</span><br><span class="line">task :gzip_css do</span><br><span class="line">  puts "## GZipping CSS"</span><br><span class="line">  styles_dir = "#{public_dir}/assets"</span><br><span class="line">  system 'find public/assets -maxdepth 1 -type f -name \*.css -exec gzip -9 {} \;'</span><br><span class="line">  # Batch rename .css.gz to .css</span><br><span class="line">  Dir['public/assets/*.css.gz'].each do |f|</span><br><span class="line">    test(?f, f) and File.rename(f, f.gsub(/\.css\.gz/, '.css'))</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">desc "GZip JS"</span><br><span class="line">task :gzip_js do</span><br><span class="line">  puts "## GZipping JS"</span><br><span class="line">  styles_dir = "#{public_dir}/assets"</span><br><span class="line">  system 'find public/assets -maxdepth 1 -type f -name \*.js -exec gzip -9 {} \;'</span><br><span class="line">  # Batch rename .js.gz to .js</span><br><span class="line">  Dir['public/assets/*.js.gz'].each do |f|</span><br><span class="line">    test(?f, f) and File.rename(f, f.gsub(/\.js\.gz/, '.js'))</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">desc "GZip All"</span><br><span class="line">task :gzip =&gt; [:gzip_html, :gzip_css, :gzip_js] do</span><br><span class="line">end</span><br></pre></td></tr></tbody></table></figure>
<p>同樣是 Rakefile，修改 generate 任務確保每次產生檔案時同時作壓縮。修改後的 generate 任務看起來應該像：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">desc "Generate jekyll site"</span><br><span class="line">task :generate do</span><br><span class="line">  raise "### You haven't set anything up yet. First run `rake install` to set up an Octopress theme." unless File.directory?(source_dir)</span><br><span class="line">  puts "## Generating Site with Jekyll"</span><br><span class="line">  system "compass compile --css-dir #{source_dir}/assets"</span><br><span class="line">  system "jekyll"</span><br><span class="line">  Rake::Task[:gzip_html].execute</span><br><span class="line">  Rake::Task[:gzip_css].execute</span><br><span class="line">  Rake::Task[:gzip_js].execute</span><br><span class="line">end</span><br></pre></td></tr></tbody></table></figure>
<p>注意，上述腳本山姆鍋只在 Mac OS X 上測試過，不過理論上，Linux 系統應該也可以執行。基本上，這個腳本會把 HTML, CSS 以及 JS 檔案使用 gzip 壓縮，並將’js’從檔名中移除。另外，您要根據您 JS/CSS 輸出的路徑，修改’public/assets’成實際放置 JS/CSS 的路徑。</p>
<h3 id="修改部署腳本來設定適當-HTTP-標頭">修改部署腳本來設定適當 HTTP 標頭</h3>
<p>修改 Rakefile 中，S3 的部署腳本，針對 HTML, JS 以及 CSS 檔案做不同的配置。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">desc "Deploy staging website via s3cmd"</span><br><span class="line">task :s3_dev do</span><br><span class="line">  puts "## Deploying staging website via s3cmd"</span><br><span class="line">  # sync gzipped html files</span><br><span class="line">  # NOTE: Setting charset in header for faster browser rendering</span><br><span class="line">  ok_failed system("s3cmd sync  --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --mime-type='text/html; charset=utf-8' --add-header 'Content-Encoding: gzip' --exclude '*.*' --include '*.html'")</span><br><span class="line">  # sync non gzipped, non js/css/image files</span><br><span class="line">  ok_failed system("s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --exclude 'images/' --exclude '*.css' --exclude '*.js'  --exclude '*.html'")</span><br><span class="line">  # sync gzipped css and js</span><br><span class="line">  ok_failed system("s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy public/* s3://#{s3_bucket_dev}/ --add-header 'Content-Encoding: gzip' --add-header 'Cache-Control: public, max-age=31600000' --exclude '*.*' --include '*.js' --include '*.css'")</span><br><span class="line">  # sync all images</span><br><span class="line">  ok_failed system("s3cmd sync --guess-mime-type --acl-public -P --reduced-redundancy  --add-header 'Cache-Control: public, max-age=31600000' public/images/* s3://#{s3_bucket_dev}/images/")</span><br><span class="line">end</span><br></pre></td></tr></tbody></table></figure>
<p>其中，請把 #{s3_bucket_dev} 換成您使用的 S3 bucket 名稱。<br>
底下是幾個重要的 s3cmd 參數說明：</p>
<ul>
<li>–add-header 參數告訴 s3cmd，當那些檔案被下載時，要設定相對應的 HTTP 標題。</li>
<li>–mime-type 指定該檔案要回傳給瀏覽器的 Mime 型別。Amazon S3 對於 HTML 檔案預設並不會有 utf-8 這個編碼設定，但沒有這個設定，瀏覽器要等比較久的時間才能決定網頁內容的正確編碼，甚至使用了錯誤的編碼。</li>
</ul>
<p>除了設定’Content-Encoding: gzip’這個標頭讓瀏覽器知道回傳的內容經過 gzip 壓縮外，同時也設定’Cache-Control’標頭來讓瀏覽器或者 CloudFront 知道這些內容該緩存的時間。針對 JS、圖檔、或者 CSS 這類靜態檔案，我們希望緩存的時間越長越好。但是 HTML 或者ＸＭＬ檔案，因為，會需要比較快更新，山姆鍋在這裡設為緩存 1 小時 ()，您可以根據需要自行調整。</p>
<h3 id="小結">小結</h3>
<p>作為靜態網站服務器，Amazon S3 不支援動態 GZip，的確是不方便。不過它提供的額外特性以及跟 CloudFront 整合，讓它仍舊是相當好的選擇。</p>
<h3 id="參考資料">參考資料</h3>
<ul>
<li><a href="http://s3tools.org/s3cmd" target="_blank" rel="noopener">s3cmd</a></li>
<li><a href="http://www.eriwen.com/performance/make-octopress-fast/" target="_blank" rel="noopener">Making Octopress Fast</a></li>
</ul>

            <div class="alert info no-icon">
                山姆鍋是<a href="https://developers.tw/@山姆鍋" target="_blank" rel="noopener">#呆丸開發者</a>成員
            </div>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tag/amazon-s3/" rel="tag">Amazon S3</a> <a class="tag tag--primary tag--small t-link" href="/tag/cloud-service/" rel="tag">Cloud service</a> <a class="tag tag--primary tag--small t-link" href="/tag/cloudfront/" rel="tag">CloudFront</a> <a class="tag tag--primary tag--small t-link" href="/tag/octopress/" rel="tag">Octopress</a> <a class="tag tag--primary tag--small t-link" href="/tag/operations/" rel="tag">Operations</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2013/06/infrastructure-software-shop-with-cloud-services/"
                    data-tooltip="善用雲端服務，微型企業的自強之道"
                    aria-label="上一篇: 善用雲端服務，微型企業的自強之道"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2013/06/octopress-reduce-http-requests-withl-asset-pipeline/"
                    data-tooltip="Octopress 匯整與迷你化 CSS/JS 檔案來加速網頁存取"
                    aria-label="下一篇: Octopress 匯整與迷你化 CSS/JS 檔案來加速網頁存取"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Sampot (山姆鍋). All Rights Reserved.
    </span>
    <br/>
        <a rel="license"
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW"><img
                alt="創用 CC 授權條款" style="border-width:0"
                src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
        除另有標示，本著作係採用<a rel="license"
            href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW">創用 CC
            姓名標示-非商業性-相同方式分享 4.0 國際 授權條款</a>授權。
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2013/06/infrastructure-software-shop-with-cloud-services/"
                    data-tooltip="善用雲端服務，微型企業的自強之道"
                    aria-label="上一篇: 善用雲端服務，微型企業的自強之道"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/post/2013/06/octopress-reduce-http-requests-withl-asset-pipeline/"
                    data-tooltip="Octopress 匯整與迷你化 CSS/JS 檔案來加速網頁存取"
                    aria-label="下一篇: Octopress 匯整與迷你化 CSS/JS 檔案來加速網頁存取"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="Kommentieren"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                        aria-label="分享到 Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/"
                        aria-label="分享到 Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/images/logo.png" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Sampot (山姆鍋)</h4>
        
            <div id="about-card-bio"><p>個人部落格， 記錄與分享一些軟體開發與運維相關資訊， 偶爾也會碎念一下</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>IT 自由工作者</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                台灣/台北
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="/assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">沒有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/03/set-up-mysql-master-master-replication/"
                            aria-label=": 設定 MySQL Master-Master 複製"
                        >
                            <h3 class="media-heading">設定 MySQL Master-Master 複製</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年3月3日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>本文簡單說明如何設定兩台 MySQL server，讓它們彼此互相備份資料 (Master-master 模式)。雖然這樣的設定通常是支援高可用性 (high availability) 平台的一部分，但本文不包含如何完成其他 HA 的工作。設定兩台 MySQL 伺服器互相備份，主要目的就是要確認資料的安全性；同時也提高可用性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/use-pacemaker-two-node-ha-cluster/"
                            aria-label=": 使用 Pacemaker 建構雙節點叢集系統"
                        >
                            <h3 class="media-heading">使用 Pacemaker 建構雙節點叢集系統</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月6日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>想要達到系統高可用性 (high availability) 的需求，自然免不了需要採用現成的解決方案。本文說明如何利用 Pacemaker/heartbeat 來建構一個雙節點的從其系統。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/build-cluster-filesystem-with-glusterfs-ubuntu/"
                            aria-label=": 使用 GlusterFS 在 Ubuntu 上建構雙節點叢集檔案系統"
                        >
                            <h3 class="media-heading">使用 GlusterFS 在 Ubuntu 上建構雙節點叢集檔案系統</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>在網站的叢集系統中，除了資料庫需要讓各個伺服器存取外，常常也會需要讓檔案 (圖檔，CSS 等等) 可以被叢集中的伺服器存取。 傳統上，常常使用 NFS 伺服器來達到此目的，但 NFS 本身往往成為單一失敗點 (single point of failure)。 本文介紹 GlusterFS 來建構一個簡單的雙節點叢集檔案系統，具備高可用性、高擴充性等特性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/scale-wordpress-with-hyperdb/"
                            aria-label=": 使用 HyperDB 加強 WordPress 網站的資料庫擴充性"
                        >
                            <h3 class="media-heading">使用 HyperDB 加強 WordPress 網站的資料庫擴充性</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>對於流量高的 Wordpress 網站來說，資料庫往往是第一個出現的瓶頸。針對資料庫擴充性的問題，本文介紹 HyperDB 這個解決方案。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/04/create-lnmp-environment-with-nginx/"
                            aria-label=": 在 Linode 上使用 Nginx 架設 LNMP 環境"
                        >
                            <h3 class="media-heading">在 Linode 上使用 Nginx 架設 LNMP 環境</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年4月30日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>Apache HTTPd 是很好的網站伺服器，但是對於 CPU 跟記憶體的要求較高，對於架設在 VPS 上面網站來說， 需要一個更輕量級的解決方案。越來越多人選擇使用 Nginx 架設網站，主要考量便是它的快速、穩定以及輕量的特性。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2012/05/support-sending-mail-php-linux-vps-exim/"
                            aria-label=": Linux VPS PHP 網站可以發送信件"
                        >
                            <h3 class="media-heading">Linux VPS PHP 網站可以發送信件</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2012年5月8日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>PHP 架站軟體通常需要用到寄信功能，例如：通知站長有新的迴響需要審核。使用虛擬主機來架站的讀者一定會納悶：<br>
不管是 WordPress，Drupal 或者其他 PHP<br>
架站軟體不是都不用另外設定就可以寄信？為什麼需要特地提到這件事情。<br>
話說山姆鍋的主機採用的是 Linode VPS，很多事情都需要自己來，唉！<br>
如果您的網站主機跟山姆鍋一樣是 VPS 或者專屬伺服器，那這篇文章也許對您有幫助。<br>
由於不是要做為公司的郵件伺服器，山姆鍋希望除了讓 PHP 架站軟體送信外，不再作其它用途。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/04/start-up/"
                            aria-label=": 影化身科技有限公司成立"
                        >
                            <h3 class="media-heading">影化身科技有限公司成立</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年4月24日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>2013 年 4 月 24 日，影化身科技有限公司登記成立，致力於提供雲端服務平台。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/shi-yong-octopresszuo-wei-bo-ke-ping-tai/"
                            aria-label=": 使用 Octopress 作為部落格平台"
                        >
                            <h3 class="media-heading">使用 Octopress 作為部落格平台</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>由於沒有需要太多動態功能，所以，嘗試使用靜態部落格平台 Octopress 來寫文章。「艾米部落」<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup> 一路從 Joomla, Drupal, WordPress 到現在的 Octopress，也算是換了不少平台。</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/use-static-site-generator-for-company-site/"
                            aria-label=": 使用靜態網頁產生器來管理公司網站"
                        >
                            <h3 class="media-heading">使用靜態網頁產生器來管理公司網站</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>對於不需要動態功能的網站而言，使用像是 Drupal、WordPress 之類的架站軟體，感覺有點大材小用。對於可以接受不使用「所見即所得」編輯器的人，靜態網站產生器應該是個可以接受的方案。 雖說是靜態網站，缺少很多功能，但像是公司或者行銷網站往往也不需要這些。況且， 靜態網站有諸多動態網站所沒有的功能，如：</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://samkuo.me/post/2013/05/exchange-name-card-with-eavatar-me/"
                            aria-label=": 如何利用「我．影化身」服務交換名片"
                        >
                            <h3 class="media-heading">如何利用「我．影化身」服務交換名片</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月29日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"><p>今天從 MR JAMIE 上讀到一篇文章：「從今天開始，請 email 你的名片給我吧！」這讓我想到，與其使用 Email，使用「我．影化身」來代替，不是也很適當？</p></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="沒有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 125 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-kkzt2vzfxsb5bych7gew3tzpzddvyjfn0sutkf3vixujdxhpjr4ifnekp3si.min.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'https://samkuo.me/post/2013/06/speed-up-amazon-s3-static-website-gzip/';
              
            this.page.identifier = 'post/2013/06/speed-up-amazon-s3-static-website-gzip/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'sampotkuo';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    



    
<script src="/assets/js/moment-with-locales.js"></script>

    
<script src="/assets/js/algoliasearch.js"></script>

    <script>
      var algoliaClient = algoliasearch('OIWK4CBFS4', 'f676051199368fe5f161c9012b7edaf6');
      var algoliaIndex = algoliaClient.initIndex('MyBlogIndex');
    </script>


    </body>
</html>
